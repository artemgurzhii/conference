"use strict";!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),n(2),n(3),n(4),n(5),n(6)},function(e,t){var n=function(){function e(e,t,n){function o(e,t){n&&r.parentNode&&r.parentNode.removeChild(r),"function"==typeof e&&e(t)}var r=document.createElement("script");r.async=!0,r.readyState?r.onreadystatechange=function(e){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,o(t))}:r.onload=function(e){o(t)},r.onerror=function(t){var n="Could not load source at "+String(e).replace(/\?.*$/,"");o(f,new Error(n))},r.src=e,document.getElementsByTagName("head")[0].appendChild(r)}function t(t){function o(){n.__glcb&&delete n.__glcb,google.load("maps",y,{other_params:"",callback:t})}void 0!==window.google&&void 0!==google.maps?t&&t():void 0!==window.google&&void 0!==google.loader?o():(n.__glcb=o,e(m+"?callback=geolocator.__glcb"))}function o(e,t,o){var r,i,a,c=document.getElementById(e);c?(r=new google.maps.Map(c,t),i=new google.maps.Marker({position:t.center,map:r}),a=new google.maps.InfoWindow,a.setContent(o),google.maps.event.addListener(i,"click",function(){a.open(r,i)}),n.location.map={canvas:c,map:r,options:t,marker:i,infoWindow:a}):n.location.map=null}function r(e,t){function n(e,n){n===google.maps.GeocoderStatus.OK&&t&&t(e)}var o=new google.maps.Geocoder;o.geocode({latLng:e},n)}function i(e){if(e&&e.length>0){var t,o,r={},i=e[0].address_components;for(t=0;t<i.length;t+=1)o=i[t],o.types&&o.types.length>0&&(r[o.types[0]]=o.long_name,r[o.types[0]+"_s"]=o.short_name);n.location.formattedAddress=e[0].formatted_address,n.location.address={street:r.route||"",neighborhood:r.neighborhood||"",town:r.sublocality||"",city:r.locality||"",region:r.administrative_area_level_1||"",country:r.country||"",countryCode:r.country_s||"",postalCode:r.postal_code||"",streetNumber:r.street_number||""}}}function a(e){function t(e){i(e);var t=null===n.location.ipGeoSource?14:7,r={zoom:t,center:a,mapTypeId:"roadmap"};o(p,r,e[0].formatted_address),d&&d.call(null,n.location)}var a=new google.maps.LatLng(e.latitude,e.longitude);r(a,t)}function c(e,t){function o(t){var o=e===!0?0:"number"==typeof e?e:-1;o>=0?n.locateByIP(d,f,o,p):f&&f(t)}function r(e){n.location={ipGeoSource:null,coords:e.coords,timestamp:(new Date).getTime()},a(n.location.coords)}function i(e){o(e)}n.location=null,navigator.geolocation?navigator.geolocation.getCurrentPosition(r,i,t):o(new Error("geolocation is not supported."))}function l(e,t){switch(e){case 0:n.location={coords:{latitude:t.latitude,longitude:t.longitude},address:{city:t.city,country:t.country_name,countryCode:t.country_code,region:t.region_name}};break;case 1:n.location={coords:{latitude:t.geoplugin_latitude,longitude:t.geoplugin_longitude},address:{city:t.geoplugin_city,country:t.geoplugin_countryName,countryCode:t.geoplugin_countryCode,region:t.geoplugin_regionName}};break;case 2:n.location={coords:{latitude:t.lat,longitude:t.lon},address:{city:t.city,country:"",countryCode:t.country,region:""}}}n.location&&(n.location.coords.accuracy=null,n.location.coords.altitude=null,n.location.coords.altitudeAccuracy=null,n.location.coords.heading=null,n.location.coords.speed=null,n.location.timestamp=(new Date).getTime(),n.location.ipGeoSource=h[e],n.location.ipGeoSource.data=t)}function u(e){function o(){2===g?void 0!==window.Geo&&(l(g,window.Geo),delete window.Geo,r=!0):void 0!==e&&"string"!=typeof e&&(l(g,e),r=!0),r===!0?a(n.location.coords):f&&f(new Error(e||"Could not get location."))}var r=!1;n.location=null,delete n.__ipscb,t(o)}function s(t){void 0===t.cbParam||null===t.cbParam||""===t.cbParam?e(t.url,u,!0):e(t.url+"?"+t.cbParam+"=geolocator.__ipscb",void 0,!0)}var d,f,p,g,m="https://www.google.com/jsapi",y="3.18",h=[{url:"//freegeoip.net/json/",cbParam:"callback"},{url:"//www.geoplugin.net/json.gp",cbParam:"jsoncallback"},{url:"//geoiplookup.wikimedia.org/",cbParam:""}],v=1;return{location:null,locate:function(e,n,o,r,i){function a(){c(o,r)}d=e,f=n,p=i,t(a)},locateByIP:function(e,t,o,r){g="number"!=typeof o||0>o||o>=h.length?v:o,d=e,f=t,p=r,n.__ipscb=u,s(h[g])},isPositionError:function(e){return"[object PositionError]"===Object.prototype.toString.call(e)}}}()},function(e,t,n){var o,o;!function r(e,t,n){function i(c,l){if(!t[c]){if(!e[c]){var u="function"==typeof o&&o;if(!l&&u)return o(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+c+"'")}var s=t[c]={exports:{}};e[c][0].call(s.exports,function(t){var n=e[c][1][t];return i(n?n:t)},s,s.exports,r,e,t,n)}return t[c].exports}for(var a="function"==typeof o&&o,c=0;c<n.length;c+=1)i(n[c]);return i}({1:[function(e,t,n){function o(e,t){var n=i();n.open("GET",e,!0),n.onreadystatechange=r(n,t),n.send()}function r(e,t){return function(){if(4===e.readyState&&200===e.status)try{t(null,JSON.parse(e.responseText))}catch(n){t(n,null)}}}function i(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}t.exports={load:o}},{}],2:[function(e,t,n){t.exports=function o(e){function t(e){return e?void 0!==e.required&&e.required instanceof Array:!1}if(!t(e))throw new Error("-- OptionsValidator: required options missing");if(!(this instanceof o))return new o(e);var n=e.required;this.getRequiredOptions=function(){return n},this.validate=function(e){var t=[];return n.forEach(function(n){void 0===e[n]&&t.push(n)}),t}}},{}],3:[function(e,t,n){function o(e){return a(e)?l(e):c(e)?u(e):void 0}function r(){return h.length=0,h}function i(){return h}function a(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)}function c(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function l(e){return h.push(e),h}function u(e){for(var t=[],n=0;n<e.length;n+=1)a(e[n])&&t.push(l(e[n]));return t}function s(e){return e?f(h,e,v.searchStrategy,v):[]}function d(e){v=e||{},v.fuzzy=e.fuzzy||!1,v.limit=e.limit||10,v.searchStrategy=e.fuzzy?m:y}function f(e,t,n,o){for(var r=[],i=0;i<e.length&&r.length<o.limit;i+=1){var a=p(e[i],t,n,o);a&&r.push(a)}return r}function p(e,t,n,o){for(var r in e)if(!g(e[r],o.exclude)&&n.matches(e[r],t))return e}function g(e,t){var n=!1;t=t||[];for(var o=0;o<t.length;o+=1){var r=t[o];!n&&new RegExp(e).test(r)&&(n=!0)}return n}t.exports={put:o,clear:r,get:i,search:s,setOptions:d};var m=e("./SearchStrategies/FuzzySearchStrategy"),y=e("./SearchStrategies/LiteralSearchStrategy"),h=[],v={};v.fuzzy=!1,v.limit=10,v.searchStrategy=v.fuzzy?m:y},{"./SearchStrategies/FuzzySearchStrategy":4,"./SearchStrategies/LiteralSearchStrategy":5}],4:[function(e,t,n){function o(){this.matches=function(e,t){if("string"!=typeof e||"string"!=typeof t)return!1;var n=t.split("").reduce(function(e,t){return e+"[^"+t+"]*"+t});return n=new RegExp(n,"gi"),!!n.test(e)}}t.exports=new o},{}],5:[function(e,t,n){function o(){this.matches=function(e,t){return"string"!=typeof e?!1:(e=e.trim(),e.toLowerCase().indexOf(t.toLowerCase())>=0)}}t.exports=new o},{}],6:[function(e,t,n){function o(e){i.pattern=e.pattern||i.pattern,i.template=e.template||i.template,"function"==typeof e.middleware&&(i.middleware=e.middleware)}function r(e){return i.template.replace(i.pattern,function(t,n){var o=i.middleware(n,e[n],i.template);return void 0!==o?o:e[n]||t})}t.exports={compile:r,setOptions:o};var i={};i.pattern=/\{(.*?)\}/g,i.template="",i.middleware=function(){}},{}],7:[function(e,t,n){!function(t,n,o){function r(e){y.put(e),l()}function i(e){h.load(e,function(t,n){t&&f("failed to get JSON ("+e+")"),r(n)})}function a(){p.resultsContainer.innerHTML=""}function c(e){p.resultsContainer.innerHTML+=e}function l(){p.searchInput.addEventListener("keyup",function(e){var t=e.which,n=e.target.value;d(t)&&s(n)&&(a(),u(y.search(n)))})}function u(e){if(0===e.length)return c(p.noResultsText);for(var t=0;t<e.length;t+=1)c(m.compile(e[t]))}function s(e){return e&&e.length>0}function d(e){return-1===[13,16,20,37,38,39,40,91].indexOf(e)}function f(e){throw new Error("SimpleJekyllSearch --- "+e)}var p={searchInput:null,resultsContainer:null,json:[],searchResultTemplate:'<li><a href="{url}" title="{desc}">{title}</a></li>',templateMiddleware:function(){},noResultsText:"No results found",limit:10,fuzzy:!1,exclude:[]},g=["searchInput","resultsContainer","json"],m=e("./Templater"),y=e("./Repository"),h=e("./JSONLoader"),v=e("./OptionsValidator")({required:g}),w=e("./utils");t.SimpleJekyllSearch=function(e){var t=v.validate(e);t.length>0&&f("You must specify the following required options: "+g),p=w.merge(p,e),m.setOptions({template:p.searchResultTemplate,middleware:p.templateMiddleware}),y.setOptions({fuzzy:p.fuzzy,limit:p.limit}),w.isJSON(p.json)?r(p.json):i(p.json)},t.SimpleJekyllSearch.init=t.SimpleJekyllSearch,"function"==typeof t.SimpleJekyllSearchInit&&t.SimpleJekyllSearchInit.call(this,t.SimpleJekyllSearch)}(window,document)},{"./JSONLoader":1,"./OptionsValidator":2,"./Repository":3,"./Templater":6,"./utils":8}],8:[function(e,t,n){function o(e,t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o],void 0!==t[o]&&(n[o]=t[o]));return n}function r(e){try{return!!(e instanceof Object&&JSON.parse(JSON.stringify(e)))}catch(t){return!1}}t.exports={merge:o,isJSON:r}},{}]},{},[7])},function(e,t){SimpleJekyllSearch({searchInput:document.getElementsByClassName("search-input")[0],resultsContainer:document.getElementsByClassName("search-results-list")[0],searchResultTemplate:'<li><a href="{url}">{title} - {date}</a></li>',json:"data/search.json",noResultsText:"<li>No results found</li>",limit:10,fuzzy:!0})},function(e,t){var n=document.querySelector("div.search-container"),o=n.querySelector("input.search-input"),r=n.querySelector("i.clear-search-input"),i=n.querySelector("ul.search-results-list"),a=function(){for(;i.firstChild;)i.removeChild(i.firstChild);o.value=""};r.addEventListener("click",a,!1),document.body.addEventListener("click",a,!1)},function(e,t){},function(e,t){}]);